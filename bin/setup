#!/bin/bash
#
# shell script to verify the repo has the necessary tooling installed

# the list of tools required to be installed to interact with this repo
# this is meant to verify what is also in the ./README.md#environment-setup section
TOOLS=(java docker)

log() {
  echo "[bin/setup] ${@}"
}

verify_tool() {
  if ! command -v $1 &> /dev/null; then
      log "'$1' could not be found"
      exit 1
  else
    log "verified: ${@}"
  fi
}

log "verifying required tools are installed"
for tool in "${TOOLS[@]}"; do
  verify_tool $tool
done
echo ""

log "setting up database"
$(dirname $0)/setup-db start
